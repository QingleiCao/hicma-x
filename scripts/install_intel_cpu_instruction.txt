1. Dependencies:
BLAS
LAPACKE
compiler
cmake
python
MPI
HWLOC
GSL (if not available, turn GSL OFF when installing starsh below)
2. Git reop: 
git clone git@github.com:ecrc/hicma-x-dev.git

3. Branch: 
cd hicma-x-dev && git checkout lei_tlr_sparse_latest_parsec
export ROOT=$PWD

4. Update submodules
git submodule update --init --recursive

5. Install starsh
cd $ROOT/stars-h && mkdir -p build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=`pwd`/installdir -DMPI=OFF -DSTARPU=OFF -DCUDA=OFF -DOPENMP=OFF -DGSL=ON
make -j 8 install
echo "export PKG_CONFIG_PATH=$ROOT/stars-h/build/installdir/lib/pkgconfig:\$PKG_CONFIG_PATH" >> $ROOT/env_hicma_parsec.sh
export PKG_CONFIG_PATH=$ROOT/stars-h/build/installdir/lib/pkgconfig:$PKG_CONFIG_PATH

6. Install hcore 
cd $ROOT/hcore && mkdir -p build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=`pwd`/installdir
make -j 8 install
echo "export PKG_CONFIG_PATH=$ROOT/hcore/build/installdir/lib/pkgconfig:\$PKG_CONFIG_PATH" >> $ROOT/env_hicma_parsec.sh
export export PKG_CONFIG_PATH=$ROOT/hcore/build/installdir/lib/pkgconfig:$PKG_CONFIG_PATH

7. Build HiCMA-PaRSEC (MKL for BLAS and LAPACKE)
cd  $ROOT && mkdir -p build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=`pwd`/installdir -DDPLASMA_PRECISIONS="s;d" -DBUILD_SHARED_LIBS=ON -DPARSEC_GPU_WITH_CUDA=OFF -DPARSEC_HAVE_DEV_CUDA_SUPPORT=OFF -DPARSEC_GPU_WITH_HIP=OFF -DPARSEC_HAVE_DEV_HIP_SUPPORT=OFF -DCMAKE_BUILD_TYPE=Release -DBLA_VENDOR=Intel10_64lp_seq -DPARSEC_MAX_DEP_OUT_COUNT=16 
make -j 8

8. Commands example on single node with matrix size 20000 and tile size 1000
cd $ROOT/build/hicma_parsec

8.1 Dense 
mpirun -np 1 ./testing_dpotrf_tlr -N 20000 -t 1000 -e 1e-8 -u 200 -D 2 -v -W 7 -E 0 -a 0 -I 1000

8.2 dense + TLR
mpirun -np 1 ./testing_dpotrf_tlr -N 20000 -t 1000 -e 1e-8 -u 200 -D 2 -v -W 7 -E 1 -a 0 -I 1

8.3 dense MP + TLR
mpirun -np 1 ./testing_dpotrf_tlr -N 20000 -t 1000 -e 1e-8 -u 200 -D 2 -v -W 7 -E 1 -a 1 -I 1
